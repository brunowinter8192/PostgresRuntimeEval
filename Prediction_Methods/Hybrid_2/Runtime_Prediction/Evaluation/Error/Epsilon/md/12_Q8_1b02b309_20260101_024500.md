# Query Prediction Report (Hybrid_2)

**Query:** Q8_109_seed_886035348
**Timestamp:** 2026-01-01 02:45:00

## Pattern Assignments

**Total Patterns Matched:** 4

| Root Node | Pattern Hash | Pattern String |
|-----------|--------------|----------------|
| 13408 | 2724c08067c0... | Aggregate -> Gather Merge (Outer) |
| 13423 | 3aab37bea1a8... | Hash -> Seq Scan (Outer) |
| 13426 | 3aab37bea1a8... | Hash -> Seq Scan (Outer) |
| 13429 | 3aab37bea1a8... | Hash -> Seq Scan (Outer) |

## Query Tree

```
Node 13408 (Aggregate) [PATTERN ROOT] - ROOT
  Node 13409 (Gather Merge) [consumed]
    Node 13410 (Sort)
      Node 13411 (Hash Join)
        Node 13412 (Nested Loop)
          Node 13413 (Hash Join)
            Node 13414 (Nested Loop)
              Node 13415 (Hash Join)
                Node 13416 (Seq Scan)
                Node 13417 (Hash)
                  Node 13418 (Hash Join)
                    Node 13419 (Seq Scan)
                    Node 13420 (Hash)
                      Node 13421 (Hash Join)
                        Node 13422 (Seq Scan)
                        Node 13423 (Hash) [PATTERN ROOT]
                          Node 13424 (Seq Scan) [consumed]
              Node 13425 (Index Scan)
            Node 13426 (Hash) [PATTERN ROOT]
              Node 13427 (Seq Scan) [consumed]
          Node 13428 (Index Scan)
        Node 13429 (Hash) [PATTERN ROOT]
          Node 13430 (Seq Scan) [consumed]
```

## Prediction Chain (Bottom-Up)

### Step 1 (depth 12): Operator Fallback

- **Node:** 13422 (Seq Scan)
- **Reason:** No pattern match
- **Output:** st=0.05, rt=7.76

### Step 2 (depth 12): Pattern Match

- **Pattern:** Hash -> Seq Scan (Outer)
- **Hash:** 3aab37bea1a884da206eb32f2c1ae5ba
- **Root:** Node 13423 (Hash)
- **Consumed Children:** Node 13424 (Seq Scan)
- **Output:** st=0.03, rt=0.03

### Step 3 (depth 11): Operator Fallback

- **Node:** 13421 (Hash Join)
- **Reason:** No pattern match
- **Output:** st=2.15, rt=66.46

### Step 4 (depth 10): Operator Fallback

- **Node:** 13419 (Seq Scan)
- **Reason:** No pattern match
- **Output:** st=0.25, rt=31.37

### Step 5 (depth 10): Operator Fallback

- **Node:** 13420 (Hash)
- **Reason:** No pattern match
- **Output:** st=18.16, rt=18.16

### Step 6 (depth 9): Operator Fallback

- **Node:** 13418 (Hash Join)
- **Reason:** No pattern match
- **Output:** st=5.23, rt=75.97

### Step 7 (depth 8): Operator Fallback

- **Node:** 13416 (Seq Scan)
- **Reason:** No pattern match
- **Output:** st=0.24, rt=162.28

### Step 8 (depth 8): Operator Fallback

- **Node:** 13417 (Hash)
- **Reason:** No pattern match
- **Output:** st=29.28, rt=29.28

### Step 9 (depth 7): Operator Fallback

- **Node:** 13415 (Hash Join)
- **Reason:** No pattern match
- **Output:** st=28.93, rt=184.57

### Step 10 (depth 7): Operator Fallback

- **Node:** 13425 (Index Scan)
- **Reason:** No pattern match
- **Output:** st=0.04, rt=0.04

### Step 11 (depth 6): Operator Fallback

- **Node:** 13414 (Nested Loop)
- **Reason:** No pattern match
- **Output:** st=14.06, rt=1117.45

### Step 12 (depth 6): Pattern Match

- **Pattern:** Hash -> Seq Scan (Outer)
- **Hash:** 3aab37bea1a884da206eb32f2c1ae5ba
- **Root:** Node 13426 (Hash)
- **Consumed Children:** Node 13427 (Seq Scan)
- **Output:** st=13.77, rt=13.66

### Step 13 (depth 5): Operator Fallback

- **Node:** 13413 (Hash Join)
- **Reason:** No pattern match
- **Output:** st=34.97, rt=1065.66

### Step 14 (depth 5): Operator Fallback

- **Node:** 13428 (Index Scan)
- **Reason:** No pattern match
- **Output:** st=0.01, rt=0.01

### Step 15 (depth 4): Operator Fallback

- **Node:** 13412 (Nested Loop)
- **Reason:** No pattern match
- **Output:** st=54.85, rt=1146.05

### Step 16 (depth 4): Pattern Match

- **Pattern:** Hash -> Seq Scan (Outer)
- **Hash:** 3aab37bea1a884da206eb32f2c1ae5ba
- **Root:** Node 13429 (Hash)
- **Consumed Children:** Node 13430 (Seq Scan)
- **Output:** st=0.01, rt=0.01

### Step 17 (depth 3): Operator Fallback

- **Node:** 13411 (Hash Join)
- **Reason:** No pattern match
- **Output:** st=58.69, rt=1113.84

### Step 18 (depth 2): Operator Fallback

- **Node:** 13410 (Sort)
- **Reason:** No pattern match
- **Output:** st=1092.55, rt=1093.98

### Step 19 (depth 0): Pattern Match

- **Pattern:** Aggregate -> Gather Merge (Outer)
- **Hash:** 2724c08067c017e6455632f46231780c
- **Root:** Node 13408 (Aggregate)
- **Consumed Children:** Node 13409 (Gather Merge)
- **Output:** st=1180.41, rt=1183.66

## Prediction Results

| Node | Type | Depth | Pred Type | Actual RT | Pred RT | MRE (%) |
|------|------|-------|-----------|-----------|---------|---------|
| 13408 | Aggregate | 0 | pattern | 1218.82 | 1183.66 | 2.9 |
| 13410 | Sort | 2 | operator | 1213.28 | 1093.98 | 9.8 |
| 13411 | Hash Join | 3 | operator | 1213.05 | 1113.84 | 8.2 |
| 13412 | Nested Loop | 4 | operator | 1212.75 | 1146.05 | 5.5 |
| 13429 | Hash | 4 | pattern | 0.01 | 0.01 | 13.6 |
| 13413 | Hash Join | 5 | operator | 1209.02 | 1065.66 | 11.9 |
| 13428 | Index Scan | 5 | operator | 0.01 | 0.01 | 93.5 |
| 13414 | Nested Loop | 6 | operator | 1167.46 | 1117.45 | 4.3 |
| 13426 | Hash | 6 | pattern | 37.13 | 13.66 | 63.2 |
| 13415 | Hash Join | 7 | operator | 212.47 | 184.57 | 13.1 |
| 13425 | Index Scan | 7 | operator | 0.04 | 0.04 | 10.6 |
| 13416 | Seq Scan | 8 | operator | 158.74 | 162.28 | 2.2 |
| 13417 | Hash | 8 | operator | 35.19 | 29.28 | 16.8 |
| 13418 | Hash Join | 9 | operator | 34.32 | 75.97 | 121.4 |
| 13419 | Seq Scan | 10 | operator | 32.79 | 31.37 | 4.3 |
| 13420 | Hash | 10 | operator | 0.23 | 18.16 | 7659.3 |
| 13421 | Hash Join | 11 | operator | 0.23 | 66.46 | 28669.6 |
| 13422 | Seq Scan | 12 | operator | 0.01 | 7.76 | 77478.3 |
| 13423 | Hash | 12 | pattern | 0.22 | 0.03 | 85.9 |
