# Query Prediction Report (Hybrid_2)

**Query:** Q10_100_seed_812199069
**Timestamp:** 2025-12-10 19:29:57

## Pattern Assignments

**Total Patterns Matched:** 4

| Root Node | Pattern Hash | Pattern String |
|-----------|--------------|----------------|
| 19370 | e296a71f8301... | Limit -> Sort (Outer) |
| 19372 | 4fc84c77ced1... | Aggregate -> Gather (Outer) |
| 19374 | 7d4e78be8512... | Hash Join -> [Hash Join (Outer), Hash (Inner)] |
| 19375 | 2e0f44eff91c... | Hash Join -> [Nested Loop (Outer), Hash (Inner)] |

## Query Tree

```
Node 19370 (Limit) [PATTERN ROOT] - ROOT
  Node 19371 (Sort) [consumed]
    Node 19372 (Aggregate) [PATTERN ROOT]
      Node 19373 (Gather) [consumed]
        Node 19374 (Hash Join) [PATTERN ROOT]
          Node 19375 (Hash Join) [PATTERN ROOT]
            Node 19376 (Nested Loop) [consumed]
              Node 19377 (Seq Scan)
              Node 19378 (Index Scan)
            Node 19379 (Hash) [consumed]
              Node 19380 (Seq Scan)
          Node 19381 (Hash) [consumed]
            Node 19382 (Seq Scan)
```

## Prediction Chain (Bottom-Up)

### Step 1 (depth 7): Operator Fallback

- **Node:** 19377 (Seq Scan)
- **Reason:** No pattern match
- **Output:** st=0.18, rt=164.22

### Step 2 (depth 7): Operator Fallback

- **Node:** 19378 (Index Scan)
- **Reason:** No pattern match
- **Output:** st=0.06, rt=0.06

### Step 3 (depth 7): Operator Fallback

- **Node:** 19380 (Seq Scan)
- **Reason:** No pattern match
- **Output:** st=0.06, rt=25.50

### Step 4 (depth 6): Operator Fallback

- **Node:** 19382 (Seq Scan)
- **Reason:** No pattern match
- **Output:** st=0.06, rt=3.81

### Step 5 (depth 5): Pattern Match

- **Pattern:** Hash Join -> [Nested Loop (Outer), Hash (Inner)]
- **Hash:** 2e0f44eff91c745724a56159cf7e0d6f
- **Root:** Node 19375 (Hash Join)
- **Consumed Children:** Node 19376 (Nested Loop), Node 19379 (Hash)
- **Output:** st=18.67, rt=1114.68

### Step 6 (depth 4): Pattern Match

- **Pattern:** Hash Join -> [Hash Join (Outer), Hash (Inner)]
- **Hash:** 7d4e78be851232c5a0cc7a0cf9df4593
- **Root:** Node 19374 (Hash Join)
- **Consumed Children:** Node 19375 (Hash Join), Node 19381 (Hash)
- **Output:** st=29.00, rt=640.10

### Step 7 (depth 2): Pattern Match

- **Pattern:** Aggregate -> Gather (Outer)
- **Hash:** 4fc84c77ced18a46514c982f23f12deb
- **Root:** Node 19372 (Aggregate)
- **Consumed Children:** Node 19373 (Gather)
- **Output:** st=969.02, rt=975.61

### Step 8 (depth 0): Pattern Match

- **Pattern:** Limit -> Sort (Outer)
- **Hash:** e296a71f830144e9c017d1502a6dcc01
- **Root:** Node 19370 (Limit)
- **Consumed Children:** Node 19371 (Sort)
- **Output:** st=1934.32, rt=1937.98

## Prediction Results

| Node | Type | Depth | Pred Type | Actual RT | Pred RT | MRE (%) |
|------|------|-------|-----------|-----------|---------|---------|
| 19370 | Limit | 0 | pattern | 1134.00 | 1937.98 | 70.9 |
| 19372 | Aggregate | 2 | pattern | 1130.08 | 975.61 | 13.7 |
| 19374 | Hash Join | 4 | pattern | 1070.51 | 640.10 | 40.2 |
| 19375 | Hash Join | 5 | pattern | 1067.56 | 1114.68 | 4.4 |
| 19382 | Seq Scan | 6 | operator | 0.01 | 3.81 | 37982.8 |
| 19377 | Seq Scan | 7 | operator | 158.88 | 164.22 | 3.4 |
| 19378 | Index Scan | 7 | operator | 0.06 | 0.06 | 7.5 |
| 19380 | Seq Scan | 7 | operator | 20.14 | 25.50 | 26.6 |
