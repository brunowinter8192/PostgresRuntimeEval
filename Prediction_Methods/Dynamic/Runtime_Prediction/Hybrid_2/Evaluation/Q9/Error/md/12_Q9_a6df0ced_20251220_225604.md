# Query Prediction Report (Hybrid_2)

**Query:** Q9_100_seed_812199069
**Timestamp:** 2025-12-20 22:56:04

## Pattern Assignments

**Total Patterns Matched:** 1

| Root Node | Pattern Hash | Pattern String |
|-----------|--------------|----------------|
| 16652 | a5f39f08c510... | Aggregate -> Gather -> Aggregate (Outer) (Outer) |

## Query Tree

```
Node 16651 (Sort) - ROOT
  Node 16652 (Aggregate) [PATTERN ROOT]
    Node 16653 (Gather) [consumed]
      Node 16654 (Aggregate) [consumed]
        Node 16655 (Hash Join)
          Node 16656 (Seq Scan)
          Node 16657 (Hash)
            Node 16658 (Hash Join)
              Node 16659 (Seq Scan)
              Node 16660 (Hash)
                Node 16661 (Hash Join)
                  Node 16662 (Hash Join)
                    Node 16663 (Nested Loop)
                      Node 16664 (Seq Scan)
                      Node 16665 (Index Scan)
                    Node 16666 (Hash)
                      Node 16667 (Seq Scan)
                  Node 16668 (Hash)
                    Node 16669 (Seq Scan)
```

## Prediction Chain (Bottom-Up)

### Step 1 (depth 11): Operator Fallback

- **Node:** 16664 (Seq Scan)
- **Reason:** No pattern match
- **Output:** st=0.00, rt=0.00

### Step 2 (depth 11): Operator Fallback

- **Node:** 16665 (Index Scan)
- **Reason:** No pattern match
- **Output:** st=0.00, rt=0.00

### Step 3 (depth 11): Operator Fallback

- **Node:** 16667 (Seq Scan)
- **Reason:** No pattern match
- **Output:** st=0.00, rt=0.00

### Step 4 (depth 10): Operator Fallback

- **Node:** 16663 (Nested Loop)
- **Reason:** No pattern match
- **Output:** st=0.00, rt=0.00

### Step 5 (depth 10): Operator Fallback

- **Node:** 16666 (Hash)
- **Reason:** No pattern match
- **Output:** st=15.85, rt=15.85

### Step 6 (depth 10): Operator Fallback

- **Node:** 16669 (Seq Scan)
- **Reason:** No pattern match
- **Output:** st=0.00, rt=0.00

### Step 7 (depth 9): Operator Fallback

- **Node:** 16662 (Hash Join)
- **Reason:** No pattern match
- **Output:** st=0.00, rt=0.00

### Step 8 (depth 9): Operator Fallback

- **Node:** 16668 (Hash)
- **Reason:** No pattern match
- **Output:** st=14.92, rt=14.92

### Step 9 (depth 8): Operator Fallback

- **Node:** 16661 (Hash Join)
- **Reason:** No pattern match
- **Output:** st=0.00, rt=0.00

### Step 10 (depth 7): Operator Fallback

- **Node:** 16659 (Seq Scan)
- **Reason:** No pattern match
- **Output:** st=0.00, rt=0.00

### Step 11 (depth 7): Operator Fallback

- **Node:** 16660 (Hash)
- **Reason:** No pattern match
- **Output:** st=26.85, rt=26.85

### Step 12 (depth 6): Operator Fallback

- **Node:** 16658 (Hash Join)
- **Reason:** No pattern match
- **Output:** st=0.00, rt=0.00

### Step 13 (depth 5): Operator Fallback

- **Node:** 16656 (Seq Scan)
- **Reason:** No pattern match
- **Output:** st=0.00, rt=0.00

### Step 14 (depth 5): Operator Fallback

- **Node:** 16657 (Hash)
- **Reason:** No pattern match
- **Output:** st=103.97, rt=103.97

### Step 15 (depth 4): Operator Fallback

- **Node:** 16655 (Hash Join)
- **Reason:** No pattern match
- **Output:** st=0.00, rt=0.00

### Step 16 (depth 1): Pattern Match

- **Pattern:** Aggregate -> Gather -> Aggregate (Outer) (Outer)
- **Hash:** a5f39f08c510532e02e96e109e48c0cd
- **Root:** Node 16652 (Aggregate)
- **Consumed Children:** Node 16653 (Gather), Node 16654 (Aggregate)
- **Output:** st=816.26, rt=822.02

### Step 17 (depth 0): Operator Fallback

- **Node:** 16651 (Sort)
- **Reason:** No pattern match
- **Output:** st=1109.69, rt=1110.40

## Prediction Results

| Node | Type | Depth | Pred Type | Actual RT | Pred RT | MRE (%) |
|------|------|-------|-----------|-----------|---------|---------|
| 16651 | Sort | 0 | operator | 1289.03 | 1110.40 | 13.9 |
| 16652 | Aggregate | 1 | pattern | 1288.88 | 822.02 | 36.2 |
| 16655 | Hash Join | 4 | operator | 1239.63 | 0.00 | 100.0 |
| 16656 | Seq Scan | 5 | operator | 132.96 | 0.00 | 100.0 |
| 16657 | Hash | 5 | operator | 1042.87 | 103.97 | 90.0 |
| 16658 | Hash Join | 6 | operator | 1024.55 | 0.00 | 100.0 |
| 16659 | Seq Scan | 7 | operator | 699.25 | 0.00 | 100.0 |
| 16660 | Hash | 7 | operator | 208.21 | 26.85 | 87.1 |
| 16661 | Hash Join | 8 | operator | 205.25 | 0.00 | 100.0 |
| 16662 | Hash Join | 9 | operator | 189.93 | 0.00 | 100.0 |
| 16668 | Hash | 9 | operator | 14.43 | 14.92 | 3.4 |
| 16663 | Nested Loop | 10 | operator | 184.94 | 0.00 | 100.0 |
| 16666 | Hash | 10 | operator | 2.50 | 15.85 | 532.8 |
| 16669 | Seq Scan | 10 | operator | 14.41 | 0.00 | 100.0 |
| 16664 | Seq Scan | 11 | operator | 29.57 | 0.00 | 100.0 |
| 16665 | Index Scan | 11 | operator | 0.06 | 0.00 | 100.0 |
| 16667 | Seq Scan | 11 | operator | 2.10 | 0.00 | 100.0 |
