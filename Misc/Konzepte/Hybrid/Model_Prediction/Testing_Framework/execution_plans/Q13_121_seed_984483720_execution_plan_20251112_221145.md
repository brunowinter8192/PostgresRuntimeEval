# Execution Plan: Q13_121_seed_984483720

## Overview
- Total steps: 5
- Pattern-based steps: 2
- Operator-based steps: 3

## Execution Steps (Bottom-Up)

### Step 1

**Type:** Pattern Model
**Pattern:** Hash_Index_Only_Scan_Outer
**Leaf Pattern:** Leaf

**Operators:**
- Hash (depth 4)
- Index Only Scan (depth 5)

---

**Expected Features (execution_time model):**
- Hash_np = 0
- Hash_nt = 150000
- Hash_nt1 = 150000
- Hash_nt2 = 0
- Hash_parallel_workers = 0
- Hash_plan_width = 4
- Hash_reltuples = 0.0
- Hash_sel = 1.0
- Hash_startup_cost = 2712.92
- Hash_total_cost = 2712.92
- IndexOnlyScan_Outer_np = 3600
- IndexOnlyScan_Outer_nt = 150000
- IndexOnlyScan_Outer_nt1 = 0
- IndexOnlyScan_Outer_nt2 = 0
- IndexOnlyScan_Outer_parallel_workers = 0
- IndexOnlyScan_Outer_plan_width = 4
- IndexOnlyScan_Outer_reltuples = 150000.0
- IndexOnlyScan_Outer_sel = 1.0
- IndexOnlyScan_Outer_startup_cost = 0.42
- IndexOnlyScan_Outer_total_cost = 2712.92

**Feature Aggregation (execution_time):**
- np (row depth 4, Hash) = 0 → Hash_np
- nt (row depth 4, Hash) = 150000 → Hash_nt
- nt1 (row depth 4, Hash) = 150000 → Hash_nt1
- nt2 (row depth 4, Hash) = 0 → Hash_nt2
- parallel_workers (row depth 4, Hash) = 0 → Hash_parallel_workers
- plan_width (row depth 4, Hash) = 4 → Hash_plan_width
- reltuples (row depth 4, Hash) = 0.0 → Hash_reltuples
- sel (row depth 4, Hash) = 1.0 → Hash_sel
- startup_cost (row depth 4, Hash) = 2712.92 → Hash_startup_cost
- total_cost (row depth 4, Hash) = 2712.92 → Hash_total_cost
- np (row depth 5, Index Only Scan Outer) = 3600 → IndexOnlyScan_Outer_np
- nt (row depth 5, Index Only Scan Outer) = 150000 → IndexOnlyScan_Outer_nt
- nt1 (row depth 5, Index Only Scan Outer) = 0 → IndexOnlyScan_Outer_nt1
- nt2 (row depth 5, Index Only Scan Outer) = 0 → IndexOnlyScan_Outer_nt2
- parallel_workers (row depth 5, Index Only Scan Outer) = 0 → IndexOnlyScan_Outer_parallel_workers
- plan_width (row depth 5, Index Only Scan Outer) = 4 → IndexOnlyScan_Outer_plan_width
- reltuples (row depth 5, Index Only Scan Outer) = 150000.0 → IndexOnlyScan_Outer_reltuples
- sel (row depth 5, Index Only Scan Outer) = 1.0 → IndexOnlyScan_Outer_sel
- startup_cost (row depth 5, Index Only Scan Outer) = 0.42 → IndexOnlyScan_Outer_startup_cost
- total_cost (row depth 5, Index Only Scan Outer) = 2712.92 → IndexOnlyScan_Outer_total_cost

**Expected Features (start_time model):**
- Hash_np = 0
- Hash_nt = 150000
- Hash_nt1 = 150000
- Hash_nt2 = 0
- Hash_parallel_workers = 0
- Hash_plan_width = 4
- Hash_reltuples = 0.0
- Hash_sel = 1.0
- Hash_startup_cost = 2712.92
- Hash_total_cost = 2712.92
- IndexOnlyScan_Outer_np = 3600
- IndexOnlyScan_Outer_nt = 150000
- IndexOnlyScan_Outer_nt1 = 0
- IndexOnlyScan_Outer_nt2 = 0
- IndexOnlyScan_Outer_parallel_workers = 0
- IndexOnlyScan_Outer_plan_width = 4
- IndexOnlyScan_Outer_reltuples = 150000.0
- IndexOnlyScan_Outer_sel = 1.0
- IndexOnlyScan_Outer_startup_cost = 0.42
- IndexOnlyScan_Outer_total_cost = 2712.92

**Feature Aggregation (start_time):**
- np (row depth 4, Hash) = 0 → Hash_np
- nt (row depth 4, Hash) = 150000 → Hash_nt
- nt1 (row depth 4, Hash) = 150000 → Hash_nt1
- nt2 (row depth 4, Hash) = 0 → Hash_nt2
- parallel_workers (row depth 4, Hash) = 0 → Hash_parallel_workers
- plan_width (row depth 4, Hash) = 4 → Hash_plan_width
- reltuples (row depth 4, Hash) = 0.0 → Hash_reltuples
- sel (row depth 4, Hash) = 1.0 → Hash_sel
- startup_cost (row depth 4, Hash) = 2712.92 → Hash_startup_cost
- total_cost (row depth 4, Hash) = 2712.92 → Hash_total_cost
- np (row depth 5, Index Only Scan Outer) = 3600 → IndexOnlyScan_Outer_np
- nt (row depth 5, Index Only Scan Outer) = 150000 → IndexOnlyScan_Outer_nt
- nt1 (row depth 5, Index Only Scan Outer) = 0 → IndexOnlyScan_Outer_nt1
- nt2 (row depth 5, Index Only Scan Outer) = 0 → IndexOnlyScan_Outer_nt2
- parallel_workers (row depth 5, Index Only Scan Outer) = 0 → IndexOnlyScan_Outer_parallel_workers
- plan_width (row depth 5, Index Only Scan Outer) = 4 → IndexOnlyScan_Outer_plan_width
- reltuples (row depth 5, Index Only Scan Outer) = 150000.0 → IndexOnlyScan_Outer_reltuples
- sel (row depth 5, Index Only Scan Outer) = 1.0 → IndexOnlyScan_Outer_sel
- startup_cost (row depth 5, Index Only Scan Outer) = 0.42 → IndexOnlyScan_Outer_startup_cost
- total_cost (row depth 5, Index Only Scan Outer) = 2712.92 → IndexOnlyScan_Outer_total_cost

---

**Emitted Targets:**
- execution_time model → predicted_total_time
- start_time model → predicted_startup_time

**Targets to Features (for parent operator at depth 3):**
- predicted_startup_time → st2
- predicted_total_time → rt2


### Step 2

**Type:** Operator Model
**Operator:** Seq Scan
**Depth:** 4

---

**Expected Features (execution_time model):**
- np
- plan_width
- sel

**Test Data Mapping (execution_time):**
- np (row depth 4) → np
- plan_width (row depth 4) → plan_width
- sel (row depth 4) → sel

**Expected Features (start_time model):**
- np
- plan_width
- reltuples
- sel
- total_cost

**Test Data Mapping (start_time):**
- np (row depth 4) → np
- plan_width (row depth 4) → plan_width
- reltuples (row depth 4) → reltuples
- sel (row depth 4) → sel
- total_cost (row depth 4) → total_cost

---

**Emitted Targets:**
- execution_time model → predicted_total_time
- start_time model → predicted_startup_time

**Targets to Features (for parent operator at depth 3):**
- predicted_startup_time → st1
- predicted_total_time → rt1


### Step 3

**Type:** Pattern Model
**Pattern:** Aggregate_Hash_Join_Outer
**Leaf Pattern:** Non-Leaf

**Operators:**
- Aggregate (depth 2)
- Hash Join (depth 3)

---

**Expected Features (execution_time model):**
- HashJoin_Outer_rt1 = 0.0
- HashJoin_Outer_rt2 = 0.0
- HashJoin_Outer_st1 = 0.0
- HashJoin_Outer_st2 = 0.0

**Feature Aggregation (execution_time):**
- rt1 (row depth 3, Hash Join Outer) = 0.0 → HashJoin_Outer_rt1
- rt2 (row depth 3, Hash Join Outer) = 0.0 → HashJoin_Outer_rt2
- st1 (row depth 3, Hash Join Outer) = 0.0 → HashJoin_Outer_st1
- st2 (row depth 3, Hash Join Outer) = 0.0 → HashJoin_Outer_st2

**Expected Features (start_time model):**
- HashJoin_Outer_rt1 = 0.0
- HashJoin_Outer_rt2 = 0.0
- HashJoin_Outer_st1 = 0.0
- HashJoin_Outer_st2 = 0.0

**Feature Aggregation (start_time):**
- rt1 (row depth 3, Hash Join Outer) = 0.0 → HashJoin_Outer_rt1
- rt2 (row depth 3, Hash Join Outer) = 0.0 → HashJoin_Outer_rt2
- st1 (row depth 3, Hash Join Outer) = 0.0 → HashJoin_Outer_st1
- st2 (row depth 3, Hash Join Outer) = 0.0 → HashJoin_Outer_st2

**Child Features Needed (from predictions):**
- HashJoin_Outer_rt2 = 0.0
- HashJoin_Outer_st1 = 0.0
- HashJoin_Outer_st2 = 0.0

---

**Emitted Targets:**
- execution_time model → predicted_total_time
- start_time model → predicted_startup_time

**Targets to Features (for parent operator at depth 1):**
- predicted_startup_time → st1
- predicted_total_time → rt1


### Step 4

**Type:** Operator Model
**Operator:** Aggregate
**Depth:** 1

**Children:**
- Aggregate (depth 2)

---

**Expected Features (execution_time model):**
- np
- nt1
- nt2
- parallel_workers
- reltuples
- rt1
- rt2
- st1
- st2
- startup_cost
- total_cost

**Test Data Mapping (execution_time):**
- np (row depth 1) → np
- nt1 (row depth 1) → nt1
- nt2 (row depth 1) → nt2
- parallel_workers (row depth 1) → parallel_workers
- reltuples (row depth 1) → reltuples
- startup_cost (row depth 1) → startup_cost
- total_cost (row depth 1) → total_cost

**Child Features from Predictions (execution_time):**
- Aggregate (depth 2, Outer) predicted_total_time → rt1
- Aggregate (depth 2, Outer) predicted_startup_time → st1

**Expected Features (start_time model):**
- np
- nt
- nt1
- nt2
- parallel_workers
- plan_width
- reltuples
- rt1
- rt2
- sel
- st1
- st2
- startup_cost
- total_cost

**Test Data Mapping (start_time):**
- np (row depth 1) → np
- nt (row depth 1) → nt
- nt1 (row depth 1) → nt1
- nt2 (row depth 1) → nt2
- parallel_workers (row depth 1) → parallel_workers
- plan_width (row depth 1) → plan_width
- reltuples (row depth 1) → reltuples
- sel (row depth 1) → sel
- startup_cost (row depth 1) → startup_cost
- total_cost (row depth 1) → total_cost

**Child Features from Predictions (start_time):**
- Aggregate (depth 2, Outer) predicted_total_time → rt1
- Aggregate (depth 2, Outer) predicted_startup_time → st1

---

**Emitted Targets:**
- execution_time model → predicted_total_time
- start_time model → predicted_startup_time

**Targets to Features (for parent operator at depth 0):**
- predicted_startup_time → st1
- predicted_total_time → rt1


### Step 5

**Type:** Operator Model
**Operator:** Sort
**Depth:** 0

**Children:**
- Aggregate (depth 1)

---

**Expected Features (execution_time model):**
- np
- nt
- nt1
- nt2
- parallel_workers
- plan_width
- reltuples
- rt1
- rt2
- sel
- st1
- st2
- startup_cost
- total_cost

**Test Data Mapping (execution_time):**
- np (row depth 0) → np
- nt (row depth 0) → nt
- nt1 (row depth 0) → nt1
- nt2 (row depth 0) → nt2
- parallel_workers (row depth 0) → parallel_workers
- plan_width (row depth 0) → plan_width
- reltuples (row depth 0) → reltuples
- sel (row depth 0) → sel
- startup_cost (row depth 0) → startup_cost
- total_cost (row depth 0) → total_cost

**Child Features from Predictions (execution_time):**
- Aggregate (depth 1, Outer) predicted_total_time → rt1
- Aggregate (depth 1, Outer) predicted_startup_time → st1

**Expected Features (start_time model):**
- np
- nt
- nt1
- nt2
- parallel_workers
- plan_width
- reltuples
- rt1
- rt2
- sel
- st1
- st2
- startup_cost
- total_cost

**Test Data Mapping (start_time):**
- np (row depth 0) → np
- nt (row depth 0) → nt
- nt1 (row depth 0) → nt1
- nt2 (row depth 0) → nt2
- parallel_workers (row depth 0) → parallel_workers
- plan_width (row depth 0) → plan_width
- reltuples (row depth 0) → reltuples
- sel (row depth 0) → sel
- startup_cost (row depth 0) → startup_cost
- total_cost (row depth 0) → total_cost

**Child Features from Predictions (start_time):**
- Aggregate (depth 1, Outer) predicted_total_time → rt1
- Aggregate (depth 1, Outer) predicted_startup_time → st1

---

**Emitted Targets:**
- execution_time model → predicted_total_time
- start_time model → predicted_startup_time

