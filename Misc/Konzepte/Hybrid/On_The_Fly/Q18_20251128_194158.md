# Dynamic Prediction Analysis: Q18

## Strategy: Dynamic Pattern Matching (Top-Down Shrinking)

## Overview
- Total operators in query: 16
- Pattern-based predictions: 11 (covering 14 nodes)
- Operator-based predictions: 2
- Threshold: 150

## Execution Steps (Top-Down Order, Bottom-Up Execution)

### Step 1

**Type:** Pattern Model
**Pattern Hash:** 7bcfec2259bf8f077d86cc017740ebd6
**Training Source:** Q10, Q3
**Training Count:** 300
**Training Queries:** 300 unique queries
**Pattern String:** Limit -> [Sort -> [Aggregate (Outer)] (Outer)]
**Pattern Depth:** 3
**Root Operator:** Limit (depth 0, node_id 28820)
**Consumed Nodes:** 3

**Training Query Examples:**
- Q3_146_seed_1189584495
- Q3_14_seed_106652403
- Q10_39_seed_311753178
- Q3_12_seed_90244341
- Q10_86_seed_697342635
- ... and 295 more

**Pattern Structure:**
- Depth 0: Limit (root) (node_id 28820)
- Depth 1: Sort (Outer) (node_id 28821)
- Depth 2: Aggregate (Outer) (node_id 28822)


### Step 2

**Type:** Pattern Model
**Pattern Hash:** 64af1ecef3b44e81ae9ffec8a0246cd0
**Training Source:** Q1, Q12, Q4, Q5, Q7, Q8
**Training Count:** 900
**Training Queries:** 900 unique queries
**Pattern String:** Gather Merge
**Pattern Depth:** 1
**Root Operator:** Gather Merge (depth 3, node_id 28823)
**Consumed Nodes:** 1

**Training Query Examples:**
- Q4_2_seed_8204031
- Q5_146_seed_1189584495
- Q12_14_seed_106652403
- Q12_81_seed_656322480
- Q12_73_seed_590690232
- ... and 895 more

**Pattern Structure:**
- Depth 3: Gather Merge (Outer) (node_id 28823)


### Step 3

**Type:** Operator Model
**Operator:** Incremental Sort
**Training Count:** 0
**Depth:** 4
**Node ID:** 28824
**Parent Relationship:** Outer


### Step 4

**Type:** Pattern Model
**Pattern Hash:** d47f875b7795faacc964bc330085b79c
**Training Source:** Q10, Q12, Q3, Q4, Q5, Q7, Q8, Q9
**Training Count:** 1481
**Training Queries:** 1200 unique queries
**Pattern String:** Nested Loop
**Pattern Depth:** 1
**Root Operator:** Nested Loop (depth 5, node_id 28825)
**Consumed Nodes:** 1

**Training Query Examples:**
- Q4_2_seed_8204031
- Q5_146_seed_1189584495
- Q12_14_seed_106652403
- Q9_49_seed_393793488
- Q12_81_seed_656322480
- ... and 1195 more

**Pattern Structure:**
- Depth 5: Nested Loop (Outer) (node_id 28825)


### Step 5

**Type:** Operator Model
**Operator:** Merge Join
**Training Count:** 0
**Depth:** 6
**Node ID:** 28826
**Parent Relationship:** Outer


### Step 6

**Type:** Pattern Model
**Pattern Hash:** 3e2d5a00246ff56483c16003698d4917
**Training Source:** Q5, Q7, Q8
**Training Count:** 450
**Training Queries:** 450 unique queries
**Pattern String:** Sort -> [Hash Join (Outer)]
**Pattern Depth:** 2
**Root Operator:** Sort (depth 7, node_id 28827)
**Consumed Nodes:** 2

**Training Query Examples:**
- Q5_146_seed_1189584495
- Q5_105_seed_853219224
- Q7_52_seed_418405581
- Q8_81_seed_656322480
- Q5_136_seed_1107544185
- ... and 445 more

**Pattern Structure:**
- Depth 7: Sort (Outer) (node_id 28827)
- Depth 8: Hash Join (Outer) (node_id 28828)


### Step 7

**Type:** Pattern Model
**Pattern Hash:** 5077602cb415acf28d7b838fd00c4c86
**Training Source:** Q1, Q10, Q12, Q13, Q14, Q19, Q3, Q4, Q5, Q6, Q7, Q8, Q9
**Training Count:** 5119
**Training Queries:** 1950 unique queries
**Pattern String:** Seq Scan
**Pattern Depth:** 1
**Root Operator:** Seq Scan (depth 9, node_id 28829)
**Consumed Nodes:** 1

**Training Query Examples:**
- Q4_2_seed_8204031
- Q9_49_seed_393793488
- Q6_59_seed_475833798
- Q12_81_seed_656322480
- Q9_83_seed_672730542
- ... and 1945 more

**Pattern Structure:**
- Depth 9: Seq Scan (Outer) (node_id 28829)


### Step 8

**Type:** Pattern Model
**Pattern Hash:** fae8a9257e154175da4193dbf6552ef6
**Training Source:** Q10, Q13, Q14, Q19, Q3, Q5, Q7, Q8, Q9
**Training Count:** 3319
**Training Queries:** 1350 unique queries
**Pattern String:** Hash
**Pattern Depth:** 1
**Root Operator:** Hash (depth 9, node_id 28830)
**Consumed Nodes:** 1

**Training Query Examples:**
- Q9_49_seed_393793488
- Q9_83_seed_672730542
- Q8_109_seed_886035348
- Q8_130_seed_1058319999
- Q3_94_seed_762974883
- ... and 1345 more

**Pattern Structure:**
- Depth 9: Hash (Inner) (node_id 28830)


### Step 9

**Type:** Pattern Model
**Pattern Hash:** 2ee34178bb8415b7d7234cd27b83aed6
**Training Source:** Q1, Q10, Q12, Q13, Q14, Q19, Q3, Q4, Q5, Q6, Q7, Q8, Q9
**Training Count:** 3300
**Training Queries:** 1950 unique queries
**Pattern String:** Aggregate
**Pattern Depth:** 1
**Root Operator:** Aggregate (depth 10, node_id 28831)
**Consumed Nodes:** 1

**Training Query Examples:**
- Q4_2_seed_8204031
- Q9_49_seed_393793488
- Q6_59_seed_475833798
- Q12_81_seed_656322480
- Q9_83_seed_672730542
- ... and 1945 more

**Pattern Structure:**
- Depth 10: Aggregate (Outer) (node_id 28831)


### Step 10

**Type:** Pattern Model
**Pattern Hash:** 9e0a689058c255f7dbc8a3303cec18a8
**Training Source:** Q10, Q12, Q3, Q4, Q5, Q7, Q8, Q9
**Training Count:** 1481
**Training Queries:** 1200 unique queries
**Pattern String:** Index Scan
**Pattern Depth:** 1
**Root Operator:** Index Scan (depth 11, node_id 28832)
**Consumed Nodes:** 1

**Training Query Examples:**
- Q4_2_seed_8204031
- Q5_146_seed_1189584495
- Q12_14_seed_106652403
- Q9_49_seed_393793488
- Q12_81_seed_656322480
- ... and 1195 more

**Pattern Structure:**
- Depth 11: Index Scan (Outer) (node_id 28832)


### Step 11

**Type:** Pattern Model
**Pattern Hash:** 6b46ae48421828d9973deec5fa9aa0c3
**Training Source:** Q1, Q10, Q12, Q13, Q3, Q4, Q5, Q7, Q8, Q9
**Training Count:** 1650
**Training Queries:** 1500 unique queries
**Pattern String:** Sort
**Pattern Depth:** 1
**Root Operator:** Sort (depth 7, node_id 28833)
**Consumed Nodes:** 1

**Training Query Examples:**
- Q4_2_seed_8204031
- Q9_49_seed_393793488
- Q12_81_seed_656322480
- Q9_83_seed_672730542
- Q1_99_seed_803995038
- ... and 1495 more

**Pattern Structure:**
- Depth 7: Sort (Inner) (node_id 28833)


### Step 12

**Type:** Pattern Model
**Pattern Hash:** 5077602cb415acf28d7b838fd00c4c86
**Training Source:** Q1, Q10, Q12, Q13, Q14, Q19, Q3, Q4, Q5, Q6, Q7, Q8, Q9
**Training Count:** 5119
**Training Queries:** 1950 unique queries
**Pattern String:** Seq Scan
**Pattern Depth:** 1
**Root Operator:** Seq Scan (depth 8, node_id 28834)
**Consumed Nodes:** 1

**Training Query Examples:**
- Q4_2_seed_8204031
- Q9_49_seed_393793488
- Q6_59_seed_475833798
- Q12_81_seed_656322480
- Q9_83_seed_672730542
- ... and 1945 more

**Pattern Structure:**
- Depth 8: Seq Scan (Outer) (node_id 28834)


### Step 13

**Type:** Pattern Model
**Pattern Hash:** 9e0a689058c255f7dbc8a3303cec18a8
**Training Source:** Q10, Q12, Q3, Q4, Q5, Q7, Q8, Q9
**Training Count:** 1481
**Training Queries:** 1200 unique queries
**Pattern String:** Index Scan
**Pattern Depth:** 1
**Root Operator:** Index Scan (depth 6, node_id 28835)
**Consumed Nodes:** 1

**Training Query Examples:**
- Q4_2_seed_8204031
- Q5_146_seed_1189584495
- Q12_14_seed_106652403
- Q9_49_seed_393793488
- Q12_81_seed_656322480
- ... and 1195 more

**Pattern Structure:**
- Depth 6: Index Scan (Inner) (node_id 28835)

