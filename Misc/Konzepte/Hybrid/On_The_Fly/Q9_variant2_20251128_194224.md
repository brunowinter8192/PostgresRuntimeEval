# Dynamic Prediction Analysis: Q9 (Variant 2)

## Strategy: Dynamic Pattern Matching (Top-Down Shrinking)

## Overview
- Total operators in query: 18
- Pattern-based predictions: 6 (covering 18 nodes)
- Operator-based predictions: 0
- Threshold: 150

## Execution Steps (Top-Down Order, Bottom-Up Execution)

### Step 1

**Type:** Pattern Model
**Pattern Hash:** b3a4509347209a6fe95e44fff8ff3908
**Training Source:** Q10, Q3
**Training Count:** 300
**Training Queries:** 300 unique queries
**Pattern String:** Sort -> [Aggregate -> [Gather (Outer)] (Outer)]
**Pattern Depth:** 3
**Root Operator:** Sort (depth 0, node_id 16670)
**Consumed Nodes:** 3

**Training Query Examples:**
- Q3_146_seed_1189584495
- Q3_14_seed_106652403
- Q10_39_seed_311753178
- Q3_12_seed_90244341
- Q10_86_seed_697342635
- ... and 295 more

**Pattern Structure:**
- Depth 0: Sort (root) (node_id 16670)
- Depth 1: Aggregate (Outer) (node_id 16671)
- Depth 2: Gather (Outer) (node_id 16672)


### Step 2

**Type:** Pattern Model
**Pattern Hash:** 3b44787560c64172b4501d3cae04fd1b
**Training Source:** Q4
**Training Count:** 150
**Training Queries:** 150 unique queries
**Pattern String:** Aggregate -> [Nested Loop (Outer)]
**Pattern Depth:** 2
**Root Operator:** Aggregate (depth 3, node_id 16673)
**Consumed Nodes:** 2

**Training Query Examples:**
- Q4_26_seed_205100775
- Q4_72_seed_582486201
- Q4_127_seed_1033707906
- Q4_2_seed_8204031
- Q4_77_seed_623506356
- ... and 145 more

**Pattern Structure:**
- Depth 3: Aggregate (Outer) (node_id 16673)
- Depth 4: Nested Loop (Outer) (node_id 16674)


### Step 3

**Type:** Pattern Model
**Pattern Hash:** bb9308256700fc12e4125487e887832e
**Training Source:** Q5, Q7, Q8
**Training Count:** 750
**Training Queries:** 450 unique queries
**Pattern String:** Hash Join -> [Seq Scan (Outer), Hash -> [Hash Join (Outer)] (Inner)]
**Pattern Depth:** 3
**Root Operator:** Hash Join (depth 5, node_id 16675)
**Consumed Nodes:** 4

**Training Query Examples:**
- Q5_146_seed_1189584495
- Q5_105_seed_853219224
- Q7_52_seed_418405581
- Q8_81_seed_656322480
- Q5_136_seed_1107544185
- ... and 445 more

**Pattern Structure:**
- Depth 5: Hash Join (Outer) (node_id 16675)
- Depth 6: Seq Scan (Outer) (node_id 16676)
- Depth 6: Hash (Inner) (node_id 16677)
- Depth 7: Hash Join (Outer) (node_id 16678)


### Step 4

**Type:** Pattern Model
**Pattern Hash:** 2873b8c3a1759afe345ffbdfc9bdcba7
**Training Source:** Q10
**Training Count:** 150
**Training Queries:** 150 unique queries
**Pattern String:** Hash Join -> [Nested Loop -> [Seq Scan (Outer), Index Scan (Inner)] (Outer), Hash -> [Seq Scan (Outer)] (Inner)]
**Pattern Depth:** 3
**Root Operator:** Hash Join (depth 8, node_id 16679)
**Consumed Nodes:** 6

**Training Query Examples:**
- Q10_39_seed_311753178
- Q10_86_seed_697342635
- Q10_70_seed_566078139
- Q10_131_seed_1066524030
- Q10_7_seed_49224186
- ... and 145 more

**Pattern Structure:**
- Depth 8: Hash Join (Outer) (node_id 16679)
- Depth 9: Nested Loop (Outer) (node_id 16680)
- Depth 10: Seq Scan (Outer) (node_id 16681)
- Depth 10: Index Scan (Inner) (node_id 16682)
- Depth 9: Hash (Inner) (node_id 16683)
- Depth 10: Seq Scan (Outer) (node_id 16684)


### Step 5

**Type:** Pattern Model
**Pattern Hash:** 3aab37bea1a884da206eb32f2c1ae5ba
**Training Source:** Q10, Q14, Q19, Q3, Q5, Q7, Q8
**Training Count:** 1800
**Training Queries:** 1050 unique queries
**Pattern String:** Hash -> [Seq Scan (Outer)]
**Pattern Depth:** 2
**Root Operator:** Hash (depth 8, node_id 16685)
**Consumed Nodes:** 2

**Training Query Examples:**
- Q14_52_seed_418405581
- Q5_146_seed_1189584495
- Q14_41_seed_328161240
- Q3_73_seed_590690232
- Q3_42_seed_336365271
- ... and 1045 more

**Pattern Structure:**
- Depth 8: Hash (Inner) (node_id 16685)
- Depth 9: Seq Scan (Outer) (node_id 16686)


### Step 6

**Type:** Pattern Model
**Pattern Hash:** 9e0a689058c255f7dbc8a3303cec18a8
**Training Source:** Q10, Q12, Q18, Q3, Q4, Q5, Q7, Q8
**Training Count:** 1500
**Training Queries:** 1200 unique queries
**Pattern String:** Index Scan
**Pattern Depth:** 1
**Root Operator:** Index Scan (depth 5, node_id 16687)
**Consumed Nodes:** 1

**Training Query Examples:**
- Q4_2_seed_8204031
- Q5_146_seed_1189584495
- Q12_14_seed_106652403
- Q12_81_seed_656322480
- Q12_73_seed_590690232
- ... and 1195 more

**Pattern Structure:**
- Depth 5: Index Scan (Inner) (node_id 16687)

