Q2:
  description: "SubPlan 1 at depth 3, parallel to Gather + Hash"
  
  main_plan: |
    Depth 0: Limit
             │
    Depth 1: └── Sort
                 │
    Depth 2:     └── Hash Join
                     ├── Gather (Outer)
                     │   │
    Depth 4:         │   └── Seq Scan part
                     │
    Depth 3:         ├── Hash (Inner)
                     │   │
    Depth 4:         │   └── Hash Join
                     │       ├── Seq Scan partsupp (Outer)
                     │       │
    Depth 5:         │       └── Hash (Inner)
                     │           │
    Depth 6:         │           └── Hash Join
                     │               ├── Seq Scan supplier (Outer)
                     │               │
    Depth 7:         │               └── Hash (Inner)
                     │                   │
    Depth 8:         │                   └── Hash Join
                     │                       ├── Seq Scan nation (Outer)
                     │                       │
    Depth 9:         │                       └── Hash (Inner)
                     │                           │
    Depth 10:        │                           └── Seq Scan region
                     │
    Depth 3:         └── SubPlan 1 (Parallel zu Gather + Hash)
  
  subplan_1: |
    Depth 3: Aggregate
             │
    Depth 4: └── Nested Loop
                 ├── Seq Scan region_1 (Outer)
                 │
    Depth 5:     └── Nested Loop (Inner)
                     │
    Depth 6:         ├── Nested Loop (Outer)
                     │   ├── Index Scan partsupp_1 (Outer)
                     │   │
    Depth 7:         │   └── Index Scan supplier_1 (Inner)
                     │
    Depth 6:         └── Index Scan nation_1 (Inner)
  
  integration: "SubPlan 1 output (min supplycost) flows into Hash Join condition at Depth 2"

Q11:
  description: "InitPlan 1 at depth 1, executed BEFORE Main Plan"
  
  main_plan: |
    Depth 0: Sort
             │
    Depth 1: └── Aggregate
                 │
    Depth 2:     └── Gather
                     │
    Depth 3:         └── Hash Join
                         ├── Seq Scan partsupp (Outer)
                         │
    Depth 4:             └── Hash (Inner)
                             │
    Depth 5:                 └── Hash Join
                                 ├── Seq Scan supplier (Outer)
                                 │
    Depth 6:                     └── Hash (Inner)
                                     │
    Depth 7:                         └── Seq Scan nation
  
  initplan_1: |
    Depth 1: Aggregate (InitPlan)
             │
    Depth 2: └── Gather
                 │
    Depth 3:     └── Aggregate
                     │
    Depth 4:         └── Hash Join
                         ├── Seq Scan partsupp_1 (Outer)
                         │
    Depth 5:             └── Hash (Inner)
                             │
    Depth 6:                 └── Hash Join
                                 ├── Seq Scan supplier_1 (Outer)
                                 │
    Depth 7:                     └── Hash (Inner)
                                     │
    Depth 8:                         └── Seq Scan nation_1
  
  integration: "InitPlan 1 output (avg * 0.0001) used in Aggregate filter at Depth 1 (HAVING clause)"
  timing: "Runs BEFORE Main Plan execution"

Q16:
  description: "SubPlan 1 at depth 6, parallel to Seq Scan"
  
  main_plan: |
    Depth 0: Sort
             │
    Depth 1: └── Aggregate
                 │
    Depth 2:     └── Gather Merge
                     │
    Depth 3:         └── Sort
                         │
    Depth 4:             └── Hash Join
                             ├── Index Only Scan (Outer)
                             │
    Depth 5:                 └── Hash (Inner)
                                 │
    Depth 6:                     └── Seq Scan partsupp
  
  subplan_1: |
    Depth 6: Seq Scan supplier (SubPlan)
  
  integration: "SubPlan 1 filters supplier, runs parallel at Depth 6"

Q22:
  description: "InitPlan 1 at depth 1, executed BEFORE Main Plan"
  
  main_plan: |
    Depth 0: Aggregate
             │
    Depth 1: └── Gather Merge
                 │
    Depth 2:     └── Sort
                     │
    Depth 3:         └── Hash Join (Right Anti)
                         ├── Seq Scan orders (Outer)
                         │
    Depth 4:             └── Hash (Inner)
                             │
    Depth 5:                 └── Seq Scan customer (Filter: c_acctbal > InitPlan 1)
  
  initplan_1: |
    Depth 1: Aggregate (InitPlan)
             │
    Depth 2: └── Gather
                 │
    Depth 3:     └── Aggregate
                     │
    Depth 4:         └── Seq Scan customer_1 (Filter: c_acctbal > 0)
  
  integration: "InitPlan 1 output (avg c_acctbal) used in Seq Scan filter at Depth 5"
  timing: "Runs BEFORE Main Plan execution"
