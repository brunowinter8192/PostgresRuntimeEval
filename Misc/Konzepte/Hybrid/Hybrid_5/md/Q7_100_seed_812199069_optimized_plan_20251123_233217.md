# Optimized Execution Plan: Q7_100_seed_812199069

## Strategy: Greedy Pattern Matching (Largest First)

## Overview
- Total operators in query: 18
- Total predictions needed: 4
- Pattern-based predictions: 3
- Operator-based predictions: 1
- Reduction: 14 operators covered by patterns

## Execution Steps (Top-Down Order)

### Step 1

**Type:** Pattern Model
**Pattern Hash:** 53f9aa07d73657d04951f9bbdd83fef8
**Pattern String:** Aggregate → Gather Merge → Sort → Hash Join → [Nested Loop (Outer), Hash (Inner)] (Outer) (Outer) (Outer)
**Pattern Length:** 5
**Root Operator:** Aggregate (depth 0, node_id 10501)
**Consumed Nodes:** 6

**Pattern Structure:**
- Depth 0: Aggregate (nan) (node_id 10501)
- Depth 1: Gather Merge (Outer) (node_id 10502)
- Depth 2: Sort (Outer) (node_id 10503)
- Depth 3: Hash Join (Outer) (node_id 10504)
- Depth 4: Nested Loop (Outer) (node_id 10505)
- Depth 4: Hash (Inner) (node_id 10514)

**Pass-Through Logic:**

*Required Child Features:*
- NestedLoop_Outer: rt1, rt2, st1, st2
- Hash_Inner: rt1, rt2, st1, st2

*Emitted Targets:*
- actual_startup_time (st)
- actual_total_time (rt)

*Pass-Through Mapping:* Root node - no pass-through to parent


### Step 2

**Type:** Pattern Model
**Pattern Hash:** 545b5e576c5930d559d8e42d610637d8
**Pattern String:** Hash Join → [Seq Scan (Outer), Hash → Hash Join → [Seq Scan (Outer), Hash → Seq Scan (Outer) (Inner)] (Outer) (Inner)]
**Pattern Length:** 5
**Root Operator:** Hash Join (depth 5, node_id 10506)
**Consumed Nodes:** 7

**Pattern Structure:**
- Depth 5: Hash Join (Outer) (node_id 10506)
- Depth 6: Seq Scan (Outer) (node_id 10507)
- Depth 6: Hash (Inner) (node_id 10508)
- Depth 7: Hash Join (Outer) (node_id 10509)
- Depth 8: Seq Scan (Outer) (node_id 10510)
- Depth 8: Hash (Inner) (node_id 10511)
- Depth 9: Seq Scan (Outer) (node_id 10512)

**Pass-Through Logic:**

*Required Child Features:* None (all pattern leafs are plan leafs)

*Emitted Targets:*
- actual_startup_time (st)
- actual_total_time (rt)

*Pass-Through Mapping:* Emitted targets become child features for parent: st -> st1/st2, rt -> rt1/rt2 (based on Outer relationship)


### Step 3

**Type:** Operator Model
**Operator:** Index Scan (depth 5, node_id 10513)

**Pass-Through Logic:**

*Required Child Features:* None (leaf operator)

*Emitted Targets:*
- actual_startup_time (st)
- actual_total_time (rt)

*Pass-Through Mapping:* Emitted targets become child features for parent: st -> st1/st2, rt -> rt1/rt2 (based on Inner relationship)


### Step 4

**Type:** Pattern Model
**Pattern Hash:** f4cb205adfd108034c883c87871a6da8
**Pattern String:** Hash Join → [Seq Scan (Outer), Hash → Seq Scan (Outer) (Inner)]
**Pattern Length:** 3
**Root Operator:** Hash Join (depth 5, node_id 10515)
**Consumed Nodes:** 4

**Pattern Structure:**
- Depth 5: Hash Join (Outer) (node_id 10515)
- Depth 6: Seq Scan (Outer) (node_id 10516)
- Depth 6: Hash (Inner) (node_id 10517)
- Depth 7: Seq Scan (Outer) (node_id 10518)

**Pass-Through Logic:**

*Required Child Features:* None (all pattern leafs are plan leafs)

*Emitted Targets:*
- actual_startup_time (st)
- actual_total_time (rt)

*Pass-Through Mapping:* Emitted targets become child features for parent: st -> st1/st2, rt -> rt1/rt2 (based on Outer relationship)

