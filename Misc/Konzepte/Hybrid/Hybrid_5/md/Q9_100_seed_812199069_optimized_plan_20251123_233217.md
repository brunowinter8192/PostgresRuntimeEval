# Optimized Execution Plan: Q9_100_seed_812199069

## Strategy: Greedy Pattern Matching (Largest First)

## Overview
- Total operators in query: 19
- Total predictions needed: 5
- Pattern-based predictions: 5
- Operator-based predictions: 0
- Reduction: 14 operators covered by patterns

## Execution Steps (Top-Down Order)

### Step 1

**Type:** Pattern Model
**Pattern Hash:** b3a4509347209a6fe95e44fff8ff3908
**Pattern String:** Sort → Aggregate → Gather (Outer) (Outer)
**Pattern Length:** 3
**Root Operator:** Sort (depth 0, node_id 16651)
**Consumed Nodes:** 3

**Pattern Structure:**
- Depth 0: Sort (nan) (node_id 16651)
- Depth 1: Aggregate (Outer) (node_id 16652)
- Depth 2: Gather (Outer) (node_id 16653)

**Pass-Through Logic:**

*Required Child Features:*
- Gather_Outer: rt1, rt2, st1, st2

*Emitted Targets:*
- actual_startup_time (st)
- actual_total_time (rt)

*Pass-Through Mapping:* Root node - no pass-through to parent


### Step 2

**Type:** Pattern Model
**Pattern Hash:** 422ae017fa27104671904e4f61703f9d
**Pattern String:** Aggregate → Hash Join → [Seq Scan (Outer), Hash (Inner)] (Outer)
**Pattern Length:** 3
**Root Operator:** Aggregate (depth 3, node_id 16654)
**Consumed Nodes:** 4

**Pattern Structure:**
- Depth 3: Aggregate (Outer) (node_id 16654)
- Depth 4: Hash Join (Outer) (node_id 16655)
- Depth 5: Seq Scan (Outer) (node_id 16656)
- Depth 5: Hash (Inner) (node_id 16657)

**Pass-Through Logic:**

*Required Child Features:*
- Hash_Inner: rt1, rt2, st1, st2

*Emitted Targets:*
- actual_startup_time (st)
- actual_total_time (rt)

*Pass-Through Mapping:* Emitted targets become child features for parent: st -> st1/st2, rt -> rt1/rt2 (based on Outer relationship)


### Step 3

**Type:** Pattern Model
**Pattern Hash:** bb9308256700fc12e4125487e887832e
**Pattern String:** Hash Join → [Seq Scan (Outer), Hash → Hash Join (Outer) (Inner)]
**Pattern Length:** 3
**Root Operator:** Hash Join (depth 6, node_id 16658)
**Consumed Nodes:** 4

**Pattern Structure:**
- Depth 6: Hash Join (Outer) (node_id 16658)
- Depth 7: Seq Scan (Outer) (node_id 16659)
- Depth 7: Hash (Inner) (node_id 16660)
- Depth 8: Hash Join (Outer) (node_id 16661)

**Pass-Through Logic:**

*Required Child Features:*
- HashJoin_Outer: rt1, rt2, st1, st2

*Emitted Targets:*
- actual_startup_time (st)
- actual_total_time (rt)

*Pass-Through Mapping:* Emitted targets become child features for parent: st -> st1/st2, rt -> rt1/rt2 (based on Outer relationship)


### Step 4

**Type:** Pattern Model
**Pattern Hash:** 2873b8c3a1759afe345ffbdfc9bdcba7
**Pattern String:** Hash Join → [Nested Loop → [Seq Scan (Outer), Index Scan (Inner)] (Outer), Hash → Seq Scan (Outer) (Inner)]
**Pattern Length:** 3
**Root Operator:** Hash Join (depth 9, node_id 16662)
**Consumed Nodes:** 6

**Pattern Structure:**
- Depth 9: Hash Join (Outer) (node_id 16662)
- Depth 10: Nested Loop (Outer) (node_id 16663)
- Depth 11: Seq Scan (Outer) (node_id 16664)
- Depth 11: Index Scan (Inner) (node_id 16665)
- Depth 10: Hash (Inner) (node_id 16666)
- Depth 11: Seq Scan (Outer) (node_id 16667)

**Pass-Through Logic:**

*Required Child Features:* None (all pattern leafs are plan leafs)

*Emitted Targets:*
- actual_startup_time (st)
- actual_total_time (rt)

*Pass-Through Mapping:* Emitted targets become child features for parent: st -> st1/st2, rt -> rt1/rt2 (based on Outer relationship)


### Step 5

**Type:** Pattern Model
**Pattern Hash:** 3aab37bea1a884da206eb32f2c1ae5ba
**Pattern String:** Hash → Seq Scan (Outer)
**Pattern Length:** 2
**Root Operator:** Hash (depth 9, node_id 16668)
**Consumed Nodes:** 2

**Pattern Structure:**
- Depth 9: Hash (Inner) (node_id 16668)
- Depth 10: Seq Scan (Outer) (node_id 16669)

**Pass-Through Logic:**

*Required Child Features:* None (all pattern leafs are plan leafs)

*Emitted Targets:*
- actual_startup_time (st)
- actual_total_time (rt)

*Pass-Through Mapping:* Emitted targets become child features for parent: st -> st1/st2, rt -> rt1/rt2 (based on Inner relationship)

